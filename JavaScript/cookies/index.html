<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Working with Cookies In JS</title>
</head>
<body>
    <p>Why use cookies instead of local storage? <br> Because server can access cookies value but can't access the localstorage value.</p>
    <button onclick="createCookies()">Create Cookie</button>
    <button onclick="readCookies()">Read Cookie</button>
    <button onclick="deleteCookies()">Delete Cookie</button>
    <script>
        function createCookies()
        {
            // Use "cookie" and "cookies" for single and multiple cookie
            // Use ";" to separate the cookie pairs just liek a comma
            document.cookie = "username = Giver Khadka";
            // If expiry date is not set, then the cookie is deleted when browser is closed
            // Here, path is used to specify in what page the cookie belongs to
            // Cookie can be modified simply by overwriting it
            document.cookies = "username = Giver Khadka; password = giver123; expires = Thu, 18 Dec 2024 12:00:00 UTC; path=/";
            alert("Cookies has been created");
        }
        function readCookies()
        {
            let allCookies = document.cookies;
            console.log(allCookies);
            let cookieArray = allCookies.split(";");
            console.log(cookieArray);
            for(let i = 0; i < cookieArray.length; i++)
            {
                let key = cookieArray[i].split("=")[0]; 
                let value = cookieArray[i].split("=")[1]; 
                console.log(`Key is ${key} and value is ${value}`);
            }
        }
        function deleteCookies()
        {
            // Delete a cookie by overwriting the previous value
            // NOTE: Need to specify the path of which cookie to delete
            // document.cookie = "username =;password =; expires = Thu, 18 Dec 2023 12:00:00 UTC; path=/";
            // Deleting can also be done by setting expiry date to past date
            document.cookies = "username =; password =; expires = Thu, 18 Dec 1900 12:00:00 UTC; path=/";
            console.log(`Cookie after deletion:`);
            readCookies();
            alert("Cookies has been deleted");
        }
    </script>
</body>
</html>
